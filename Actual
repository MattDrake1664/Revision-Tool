# Revision tool importing a glossary

"""
This revision tool allows a user to either revise by looking up random meanings and viewing the definitions
or test themselves by looking up a random definition then seeing if they can get the meaning correct
"""

from random import *
import csv

def show_flashcard():
    """ Show the user a random key and ask them
        to define it. Show the definition
        when the user presses return.    
    """
    random_key = choice(list(glossary))
    print('Define: ', random_key)
    input('Press return to see the definition')
    print(glossary[random_key])

def show_definition():
    """ Show the user a random definition and ask them
        to identify the word being defined. Show the word
        when the user presses return.    
    """
    random_key = choice(list(glossary))
    print('What does this definition refer to?: ',(glossary[random_key]))
    user_input = input('Enter the answer')
    if user_input == random_key:
        print('Correct')
    else:
        print('Incorrect')
    print('The answer is ', random_key)
    
    
def file_to_dictionary(filename):
    """ Return a dictionary with the contents of a file.
    """
    file = open(filename, 'r')
    reader = csv.reader(file)
    dictionary = {}
    for row in reader:
        dictionary[row[0]] = row[1]
    return dictionary

# Set up the glossary

glossary = file_to_dictionary('') #Input glossary name in these brackets

# The interactive loop

exit = False
while not exit:
    user_input = input('Enter p to practice, t to test yourself and q to quit: ')
    if user_input == 'q':
        exit = True
    elif user_input == 'p':
        show_flashcard()
    elif user_input == 't':
        show_definition()
    else:
        print('You need to enter either q, d or s.')
                       
